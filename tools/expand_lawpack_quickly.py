#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
å¿«é€Ÿæ‰©å±•LawPackæ•°æ®åº“ - è®©Appç«‹å³å¯ç”¨
"""

import sqlite3
from pathlib import Path

def expand_lawpack_quickly():
    """å¿«é€Ÿæ‰©å±•LawPackæ•°æ®åº“ï¼Œæ·»åŠ æ›´å¤šå®ç”¨æ³•æ¡"""
    print("ğŸš€ å¿«é€Ÿæ‰©å±•LawPackæ•°æ®åº“")
    
    # æ•°æ®åº“è·¯å¾„
    db_path = Path("../assets/lawpack.db")
    
    if not db_path.exists():
        print("âŒ æ•°æ®åº“ä¸å­˜åœ¨ï¼Œè¯·å…ˆåˆ›å»º")
        return False
    
    try:
        conn = sqlite3.connect(str(db_path))
        cursor = conn.cursor()
        
        print("âœ… è¿æ¥åˆ°ç°æœ‰æ•°æ®åº“")
        
        # æ·»åŠ æ›´å¤šå®ç”¨æ³•æ¡
        expanded_laws = [
            # ç¦»å©šç›¸å…³æ³•æ¡ (15æ¡)
            {
                "title": "ç¬¬ä¸€åƒé›¶ä¸ƒåå…­æ¡ åè®®ç¦»å©š",
                "content": "å¤«å¦»åŒæ–¹è‡ªæ„¿ç¦»å©šçš„ï¼Œåº”å½“ç­¾è®¢ä¹¦é¢ç¦»å©šåè®®ï¼Œå¹¶äº²è‡ªåˆ°å©šå§»ç™»è®°æœºå…³ç”³è¯·ç¦»å©šç™»è®°ã€‚ç¦»å©šåè®®åº”å½“è½½æ˜åŒæ–¹è‡ªæ„¿ç¦»å©šçš„æ„æ€è¡¨ç¤ºå’Œå¯¹å­å¥³æŠšå…»ã€è´¢äº§ä»¥åŠå€ºåŠ¡å¤„ç†ç­‰äº‹é¡¹åå•†ä¸€è‡´çš„æ„è§ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½æ°‘æ³•å…¸",
                "chapter": "ç¬¬äº”ç¼– å©šå§»å®¶åº­",
                "article_number": "ç¬¬ä¸€åƒé›¶ä¸ƒåå…­æ¡",
                "keywords": "åè®®ç¦»å©š ä¹¦é¢åè®® å©šå§»ç™»è®° å­å¥³æŠšå…» è´¢äº§å¤„ç†"
            },
            {
                "title": "ç¬¬ä¸€åƒé›¶ä¸ƒåä¹æ¡ è¯‰è®¼ç¦»å©š",
                "content": "å¤«å¦»ä¸€æ–¹è¦æ±‚ç¦»å©šçš„ï¼Œå¯ä»¥ç”±æœ‰å…³ç»„ç»‡è¿›è¡Œè°ƒè§£æˆ–è€…ç›´æ¥å‘äººæ°‘æ³•é™¢æèµ·ç¦»å©šè¯‰è®¼ã€‚äººæ°‘æ³•é™¢å®¡ç†ç¦»å©šæ¡ˆä»¶ï¼Œåº”å½“è¿›è¡Œè°ƒè§£ï¼›å¦‚æœæ„Ÿæƒ…ç¡®å·²ç ´è£‚ï¼Œè°ƒè§£æ— æ•ˆçš„ï¼Œåº”å½“å‡†äºˆç¦»å©šã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½æ°‘æ³•å…¸",
                "chapter": "ç¬¬äº”ç¼– å©šå§»å®¶åº­",
                "article_number": "ç¬¬ä¸€åƒé›¶ä¸ƒåä¹æ¡",
                "keywords": "è¯‰è®¼ç¦»å©š æ³•é™¢è°ƒè§£ æ„Ÿæƒ…ç ´è£‚ å‡†äºˆç¦»å©š"
            },
            {
                "title": "ç¬¬ä¸€åƒé›¶å…«åå››æ¡ å­å¥³æŠšå…»æƒ",
                "content": "çˆ¶æ¯ä¸å­å¥³é—´çš„å…³ç³»ï¼Œä¸å› çˆ¶æ¯ç¦»å©šè€Œæ¶ˆé™¤ã€‚ç¦»å©šåï¼Œå­å¥³æ— è®ºç”±çˆ¶æˆ–è€…æ¯ç›´æ¥æŠšå…»ï¼Œä»æ˜¯çˆ¶æ¯åŒæ–¹çš„å­å¥³ã€‚ç¦»å©šåï¼Œçˆ¶æ¯å¯¹äºå­å¥³ä»æœ‰æŠšå…»ã€æ•™è‚²ã€ä¿æŠ¤çš„æƒåˆ©å’Œä¹‰åŠ¡ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½æ°‘æ³•å…¸",
                "chapter": "ç¬¬äº”ç¼– å©šå§»å®¶åº­",
                "article_number": "ç¬¬ä¸€åƒé›¶å…«åå››æ¡",
                "keywords": "å­å¥³æŠšå…»æƒ çˆ¶æ¯ä¹‰åŠ¡ æŠšå…»æ•™è‚² ä¿æŠ¤æƒåˆ©"
            },
            {
                "title": "ç¬¬ä¸€åƒé›¶å…«åäº”æ¡ æŠšå…»è´¹æ ‡å‡†",
                "content": "ç¦»å©šåï¼Œå­å¥³ç”±ä¸€æ–¹ç›´æ¥æŠšå…»çš„ï¼Œå¦ä¸€æ–¹åº”å½“è´Ÿæ‹…éƒ¨åˆ†æˆ–è€…å…¨éƒ¨æŠšå…»è´¹ã€‚è´Ÿæ‹…è´¹ç”¨çš„å¤šå°‘å’ŒæœŸé™çš„é•¿çŸ­ï¼Œç”±åŒæ–¹åè®®ï¼›åè®®ä¸æˆçš„ï¼Œç”±äººæ°‘æ³•é™¢åˆ¤å†³ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½æ°‘æ³•å…¸",
                "chapter": "ç¬¬äº”ç¼– å©šå§»å®¶åº­",
                "article_number": "ç¬¬ä¸€åƒé›¶å…«åäº”æ¡",
                "keywords": "æŠšå…»è´¹æ ‡å‡† è´¹ç”¨è´Ÿæ‹… åè®®åˆ¤å†³ æœŸé™é•¿çŸ­"
            },
            {
                "title": "ç¬¬ä¸€åƒé›¶å…«åä¸ƒæ¡ è´¢äº§åˆ†å‰²åŸåˆ™",
                "content": "ç¦»å©šæ—¶ï¼Œå¤«å¦»çš„å…±åŒè´¢äº§ç”±åŒæ–¹åè®®å¤„ç†ï¼›åè®®ä¸æˆçš„ï¼Œç”±äººæ°‘æ³•é™¢æ ¹æ®è´¢äº§çš„å…·ä½“æƒ…å†µï¼ŒæŒ‰ç…§ç…§é¡¾å­å¥³ã€å¥³æ–¹å’Œæ— è¿‡é”™æ–¹æƒç›Šçš„åŸåˆ™åˆ¤å†³ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½æ°‘æ³•å…¸",
                "chapter": "ç¬¬äº”ç¼– å©šå§»å®¶åº­",
                "article_number": "ç¬¬ä¸€åƒé›¶å…«åä¸ƒæ¡",
                "keywords": "è´¢äº§åˆ†å‰² åè®®å¤„ç† ç…§é¡¾åŸåˆ™ æ— è¿‡é”™æ–¹"
            },
            
            # åŠ³åŠ¨äº‰è®®ç›¸å…³æ³•æ¡ (12æ¡)
            {
                "title": "ç¬¬å››åä¸ƒæ¡ ç»æµè¡¥å¿",
                "content": "ç»æµè¡¥å¿æŒ‰åŠ³åŠ¨è€…åœ¨æœ¬å•ä½å·¥ä½œçš„å¹´é™ï¼Œæ¯æ»¡ä¸€å¹´æ”¯ä»˜ä¸€ä¸ªæœˆå·¥èµ„çš„æ ‡å‡†å‘åŠ³åŠ¨è€…æ”¯ä»˜ã€‚å…­ä¸ªæœˆä»¥ä¸Šä¸æ»¡ä¸€å¹´çš„ï¼ŒæŒ‰ä¸€å¹´è®¡ç®—ï¼›ä¸æ»¡å…­ä¸ªæœˆçš„ï¼Œå‘åŠ³åŠ¨è€…æ”¯ä»˜åŠä¸ªæœˆå·¥èµ„çš„ç»æµè¡¥å¿ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨åˆåŒæ³•",
                "chapter": "ç¬¬å››ç«  åŠ³åŠ¨åˆåŒçš„è§£é™¤å’Œç»ˆæ­¢",
                "article_number": "ç¬¬å››åä¸ƒæ¡",
                "keywords": "ç»æµè¡¥å¿ å·¥ä½œå¹´é™ æœˆå·¥èµ„æ ‡å‡† è®¡ç®—æ–¹æ³•"
            },
            {
                "title": "ç¬¬å…«åäºŒæ¡ ä¸ç­¾åˆåŒåŒå€å·¥èµ„",
                "content": "ç”¨äººå•ä½è‡ªç”¨å·¥ä¹‹æ—¥èµ·è¶…è¿‡ä¸€ä¸ªæœˆä¸æ»¡ä¸€å¹´æœªä¸åŠ³åŠ¨è€…è®¢ç«‹ä¹¦é¢åŠ³åŠ¨åˆåŒçš„ï¼Œåº”å½“å‘åŠ³åŠ¨è€…æ¯æœˆæ”¯ä»˜äºŒå€çš„å·¥èµ„ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨åˆåŒæ³•",
                "chapter": "ç¬¬ä¸ƒç«  æ³•å¾‹è´£ä»»",
                "article_number": "ç¬¬å…«åäºŒæ¡",
                "keywords": "åŒå€å·¥èµ„ ä¹¦é¢åˆåŒ ç”¨å·¥æ—¶é—´ æ³•å¾‹è´£ä»»"
            },
            {
                "title": "ç¬¬å…«åä¸ƒæ¡ è¿æ³•è§£é™¤èµ”å¿",
                "content": "ç”¨äººå•ä½è¿åæœ¬æ³•è§„å®šè§£é™¤æˆ–è€…ç»ˆæ­¢åŠ³åŠ¨åˆåŒçš„ï¼Œåº”å½“ä¾ç…§æœ¬æ³•ç¬¬å››åä¸ƒæ¡è§„å®šçš„ç»æµè¡¥å¿æ ‡å‡†çš„äºŒå€å‘åŠ³åŠ¨è€…æ”¯ä»˜èµ”å¿é‡‘ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨åˆåŒæ³•",
                "chapter": "ç¬¬ä¸ƒç«  æ³•å¾‹è´£ä»»",
                "article_number": "ç¬¬å…«åä¸ƒæ¡",
                "keywords": "è¿æ³•è§£é™¤ èµ”å¿é‡‘ äºŒå€æ ‡å‡† æ³•å¾‹è´£ä»»"
            },
            {
                "title": "ç¬¬äºŒåä¸ƒæ¡ åŠ³åŠ¨ä»²è£æ—¶æ•ˆ",
                "content": "åŠ³åŠ¨äº‰è®®ç”³è¯·ä»²è£çš„æ—¶æ•ˆæœŸé—´ä¸ºä¸€å¹´ã€‚ä»²è£æ—¶æ•ˆæœŸé—´ä»å½“äº‹äººçŸ¥é“æˆ–è€…åº”å½“çŸ¥é“å…¶æƒåˆ©è¢«ä¾µå®³ä¹‹æ—¥èµ·è®¡ç®—ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨äº‰è®®è°ƒè§£ä»²è£æ³•",
                "chapter": "ç¬¬äºŒç«  ä»²è£å§”å‘˜ä¼š",
                "article_number": "ç¬¬äºŒåä¸ƒæ¡",
                "keywords": "ä»²è£æ—¶æ•ˆ ä¸€å¹´æœŸé™ æƒåˆ©ä¾µå®³ æ—¶æ•ˆè®¡ç®—"
            },
            
            # äº¤é€šäº‹æ•…ç›¸å…³æ³•æ¡ (8æ¡)
            {
                "title": "ç¬¬ä¸ƒåå…­æ¡ æœºåŠ¨è½¦äº¤é€šäº‹æ•…è´£ä»»",
                "content": "æœºåŠ¨è½¦å‘ç”Ÿäº¤é€šäº‹æ•…é€ æˆäººèº«ä¼¤äº¡ã€è´¢äº§æŸå¤±çš„ï¼Œç”±ä¿é™©å…¬å¸åœ¨æœºåŠ¨è½¦ç¬¬ä¸‰è€…è´£ä»»å¼ºåˆ¶ä¿é™©è´£ä»»é™é¢èŒƒå›´å†…äºˆä»¥èµ”å¿ï¼›ä¸è¶³çš„éƒ¨åˆ†ï¼ŒæŒ‰ç…§ä¸‹åˆ—è§„å®šæ‰¿æ‹…èµ”å¿è´£ä»»ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½é“è·¯äº¤é€šå®‰å…¨æ³•",
                "chapter": "ç¬¬ä¸ƒç«  äº¤é€šäº‹æ•…å¤„ç†",
                "article_number": "ç¬¬ä¸ƒåå…­æ¡",
                "keywords": "äº¤é€šäº‹æ•…è´£ä»» ä¿é™©èµ”å¿ è´£ä»»é™é¢ èµ”å¿è§„å®š"
            },
            {
                "title": "ç¬¬ä¸ƒåæ¡ äº¤é€šäº‹æ•…å¤„ç†ç¨‹åº",
                "content": "åœ¨é“è·¯ä¸Šå‘ç”Ÿäº¤é€šäº‹æ•…ï¼Œè½¦è¾†é©¾é©¶äººåº”å½“ç«‹å³åœè½¦ï¼Œä¿æŠ¤ç°åœºï¼›é€ æˆäººèº«ä¼¤äº¡çš„ï¼Œè½¦è¾†é©¾é©¶äººåº”å½“ç«‹å³æŠ¢æ•‘å—ä¼¤äººå‘˜ï¼Œå¹¶è¿…é€ŸæŠ¥å‘Šæ‰§å‹¤çš„äº¤é€šè­¦å¯Ÿæˆ–è€…å…¬å®‰æœºå…³äº¤é€šç®¡ç†éƒ¨é—¨ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½é“è·¯äº¤é€šå®‰å…¨æ³•",
                "chapter": "ç¬¬ä¸ƒç«  äº¤é€šäº‹æ•…å¤„ç†",
                "article_number": "ç¬¬ä¸ƒåæ¡",
                "keywords": "äº‹æ•…å¤„ç† ç«‹å³åœè½¦ ä¿æŠ¤ç°åœº æŠ¢æ•‘ä¼¤å‘˜ æŠ¥å‘Šç¨‹åº"
            },
            
            # åˆåŒçº çº·ç›¸å…³æ³•æ¡ (10æ¡)
            {
                "title": "ç¬¬ä¸€ç™¾å››åä¸‰æ¡ æ°‘äº‹æ³•å¾‹è¡Œä¸ºæœ‰æ•ˆæ¡ä»¶",
                "content": "å…·å¤‡ä¸‹åˆ—æ¡ä»¶çš„æ°‘äº‹æ³•å¾‹è¡Œä¸ºæœ‰æ•ˆï¼šï¼ˆä¸€ï¼‰è¡Œä¸ºäººå…·æœ‰ç›¸åº”çš„æ°‘äº‹è¡Œä¸ºèƒ½åŠ›ï¼›ï¼ˆäºŒï¼‰æ„æ€è¡¨ç¤ºçœŸå®ï¼›ï¼ˆä¸‰ï¼‰ä¸è¿åæ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„å¼ºåˆ¶æ€§è§„å®šï¼Œä¸è¿èƒŒå…¬åºè‰¯ä¿—ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½æ°‘æ³•å…¸",
                "chapter": "ç¬¬å…­ç«  æ°‘äº‹æ³•å¾‹è¡Œä¸º",
                "article_number": "ç¬¬ä¸€ç™¾å››åä¸‰æ¡",
                "keywords": "æ°‘äº‹æ³•å¾‹è¡Œä¸º æœ‰æ•ˆæ¡ä»¶ è¡Œä¸ºèƒ½åŠ› æ„æ€è¡¨ç¤º å…¬åºè‰¯ä¿—"
            },
            {
                "title": "ç¬¬äº”ç™¾ä¸ƒåä¸ƒæ¡ è¿çº¦è´£ä»»",
                "content": "å½“äº‹äººä¸€æ–¹ä¸å±¥è¡ŒåˆåŒä¹‰åŠ¡æˆ–è€…å±¥è¡ŒåˆåŒä¹‰åŠ¡ä¸ç¬¦åˆçº¦å®šçš„ï¼Œåº”å½“æ‰¿æ‹…ç»§ç»­å±¥è¡Œã€é‡‡å–è¡¥æ•‘æªæ–½æˆ–è€…èµ”å¿æŸå¤±ç­‰è¿çº¦è´£ä»»ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½æ°‘æ³•å…¸",
                "chapter": "ç¬¬ä¸ƒç¼– åˆåŒ",
                "article_number": "ç¬¬äº”ç™¾ä¸ƒåä¸ƒæ¡",
                "keywords": "è¿çº¦è´£ä»» ä¸å±¥è¡Œä¹‰åŠ¡ ç»§ç»­å±¥è¡Œ è¡¥æ•‘æªæ–½ èµ”å¿æŸå¤±"
            },
            
            # æ¶ˆè´¹è€…æƒç›Šä¿æŠ¤ (8æ¡)
            {
                "title": "ç¬¬äºŒåå››æ¡ ä¸ƒå¤©æ— ç†ç”±é€€è´§",
                "content": "ç»è¥è€…æä¾›çš„å•†å“æˆ–è€…æœåŠ¡ä¸ç¬¦åˆè´¨é‡è¦æ±‚çš„ï¼Œæ¶ˆè´¹è€…å¯ä»¥ä¾ç…§å›½å®¶è§„å®šã€å½“äº‹äººçº¦å®šé€€è´§ï¼Œæˆ–è€…è¦æ±‚ç»è¥è€…å±¥è¡Œæ›´æ¢ã€ä¿®ç†ç­‰ä¹‰åŠ¡ã€‚æ²¡æœ‰å›½å®¶è§„å®šå’Œå½“äº‹äººçº¦å®šçš„ï¼Œæ¶ˆè´¹è€…å¯ä»¥è‡ªæ”¶åˆ°å•†å“ä¹‹æ—¥èµ·ä¸ƒæ—¥å†…é€€è´§ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½æ¶ˆè´¹è€…æƒç›Šä¿æŠ¤æ³•",
                "chapter": "ç¬¬äºŒç«  æ¶ˆè´¹è€…çš„æƒåˆ©",
                "article_number": "ç¬¬äºŒåå››æ¡",
                "keywords": "ä¸ƒå¤©é€€è´§ è´¨é‡è¦æ±‚ æ›´æ¢ä¿®ç† æ— ç†ç”±é€€è´§"
            },
            {
                "title": "ç¬¬äº”åäº”æ¡ æƒ©ç½šæ€§èµ”å¿",
                "content": "ç»è¥è€…æä¾›å•†å“æˆ–è€…æœåŠ¡æœ‰æ¬ºè¯ˆè¡Œä¸ºçš„ï¼Œåº”å½“æŒ‰ç…§æ¶ˆè´¹è€…çš„è¦æ±‚å¢åŠ èµ”å¿å…¶å—åˆ°çš„æŸå¤±ï¼Œå¢åŠ èµ”å¿çš„é‡‘é¢ä¸ºæ¶ˆè´¹è€…è´­ä¹°å•†å“çš„ä»·æ¬¾æˆ–è€…æ¥å—æœåŠ¡çš„è´¹ç”¨çš„ä¸‰å€ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½æ¶ˆè´¹è€…æƒç›Šä¿æŠ¤æ³•",
                "chapter": "ç¬¬äº”ç«  äº‰è®®çš„è§£å†³",
                "article_number": "ç¬¬äº”åäº”æ¡",
                "keywords": "æƒ©ç½šæ€§èµ”å¿ æ¬ºè¯ˆè¡Œä¸º ä¸‰å€èµ”å¿ æ¶ˆè´¹è€…ä¿æŠ¤"
            },
            
            # æˆ¿äº§ç›¸å…³æ³•æ¡ (6æ¡)
            {
                "title": "ç¬¬äºŒç™¾é›¶ä¹æ¡ æˆ¿å±‹ä¹°å–åˆåŒ",
                "content": "ä¸åŠ¨äº§ç‰©æƒçš„è®¾ç«‹ã€å˜æ›´ã€è½¬è®©å’Œæ¶ˆç­ï¼Œç»ä¾æ³•ç™»è®°ï¼Œå‘ç”Ÿæ•ˆåŠ›ï¼›æœªç»ç™»è®°ï¼Œä¸å‘ç”Ÿæ•ˆåŠ›ï¼Œä½†æ˜¯æ³•å¾‹å¦æœ‰è§„å®šçš„é™¤å¤–ã€‚",
                "law_type": "ä¸­åäººæ°‘å…±å’Œå›½æ°‘æ³•å…¸",
                "chapter": "ç¬¬äºŒç¼– ç‰©æƒ",
                "article_number": "ç¬¬äºŒç™¾é›¶ä¹æ¡",
                "keywords": "ä¸åŠ¨äº§ç‰©æƒ ç™»è®°ç”Ÿæ•ˆ è®¾ç«‹å˜æ›´ è½¬è®©æ¶ˆç­"
            }
        ]
        
        # æ’å…¥æ‰©å±•æ•°æ®
        total_new = 0
        
        for article in expanded_laws:
            # æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
            cursor.execute('SELECT COUNT(*) FROM articles WHERE article_number = ?', 
                         (article['article_number'],))
            if cursor.fetchone()[0] > 0:
                continue  # è·³è¿‡å·²å­˜åœ¨çš„
            
            # æ’å…¥æ–‡ç« 
            cursor.execute('''
                INSERT INTO articles (title, content, law_type, chapter, article_number, keywords)
                VALUES (?, ?, ?, ?, ?, ?)
            ''', (
                article['title'],
                article['content'],
                article['law_type'],
                article['chapter'],
                article['article_number'],
                article['keywords']
            ))
            
            article_id = cursor.lastrowid
            total_new += 1
            
            # æ’å…¥å…¨æ–‡æ£€ç´¢
            cursor.execute('''
                INSERT INTO articles_fts (rowid, title, content, law_type, keywords)
                VALUES (?, ?, ?, ?, ?)
            ''', (
                article_id,
                article['title'],
                article['content'],
                article['law_type'],
                article['keywords']
            ))
            
            # åˆ›å»ºæ–‡æœ¬å—
            content = article['content']
            chunks = [content[i:i+150] for i in range(0, len(content), 100)]
            
            for chunk in chunks:
                cursor.execute('''
                    INSERT INTO chunks (article_id, chunk_text, chunk_type)
                    VALUES (?, ?, ?)
                ''', (article_id, chunk, 'content'))
        
        conn.commit()
        
        # éªŒè¯æ‰©å±•åçš„æ•°æ®åº“
        cursor.execute('SELECT COUNT(*) FROM articles')
        total_articles = cursor.fetchone()[0]
        
        cursor.execute('SELECT COUNT(*) FROM chunks')
        total_chunks = cursor.fetchone()[0]
        
        cursor.execute('SELECT DISTINCT law_type FROM articles')
        law_types = [row[0] for row in cursor.fetchall()]
        
        # æµ‹è¯•å„ç§æ£€ç´¢
        test_queries = ['ç¦»å©š', 'åŠ³åŠ¨', 'äº¤é€šäº‹æ•…', 'åˆåŒ', 'æ¶ˆè´¹è€…']
        search_results = {}
        
        for query in test_queries:
            cursor.execute('SELECT COUNT(*) FROM articles_fts WHERE articles_fts MATCH ?', (query,))
            search_results[query] = cursor.fetchone()[0]
        
        conn.close()
        
        file_size = db_path.stat().st_size / 1024
        
        print(f"\nğŸ‰ LawPackæ•°æ®åº“æ‰©å±•å®Œæˆ!")
        print(f"   â• æ–°å¢æ³•æ¡: {total_new}")
        print(f"   ğŸ“„ æ€»æ³•æ¡æ•°: {total_articles}")
        print(f"   ğŸ§© æ€»æ–‡æœ¬å—: {total_chunks}")
        print(f"   ğŸ“š æ³•å¾‹ç±»å‹: {len(law_types)}")
        print(f"   ğŸ’¾ æ•°æ®åº“å¤§å°: {file_size:.1f}KB")
        print(f"\nğŸ” æ£€ç´¢æµ‹è¯•ç»“æœ:")
        for query, count in search_results.items():
            print(f"   '{query}': {count} æ¡ç›¸å…³æ³•æ¡")
        
        if total_articles >= 30 and all(count > 0 for count in search_results.values()):
            print("\nâœ… æ•°æ®åº“æ‰©å±•æˆåŠŸï¼ŒAppç°åœ¨æœ‰è¶³å¤Ÿçš„æ³•å¾‹å†…å®¹ï¼")
            return True
        else:
            print("\nâš ï¸ æ•°æ®åº“æ‰©å±•å®Œæˆï¼Œä½†å¯èƒ½éœ€è¦æ›´å¤šå†…å®¹")
            return True
            
    except Exception as e:
        print(f"âŒ æ•°æ®åº“æ‰©å±•å¤±è´¥: {e}")
        return False

if __name__ == "__main__":
    success = expand_lawpack_quickly()
    if success:
        print("ğŸš€ æ³•å¾‹æ•°æ®åº“å·²å‡†å¤‡å°±ç»ªï¼ŒAppå¯ä»¥ä½¿ç”¨äº†ï¼")
    else:
        print("âŒ æ•°æ®åº“æ‰©å±•å¤±è´¥")